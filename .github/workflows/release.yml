name: "Release Workflow"
on:
  push:
    tags:
      - "v[0-9]+.[0-9]+.[0-9]+"
      - "v[0-9]+.[0-9]+.[0-9]+M[0-9]+"
      - "v[0-9]+.[0-9]+.[0-9]+RC[0-9]+"
jobs:
  release-job:
    name: "release-job-name"
    runs-on: ubuntu-latest
    steps:
      - id: check-tag
        run: |
          # echo 'refs/tags/v0.3.2-RC1' | sed  's/refs\/tags\/v\(.*\)$/\1/g'
          echo ::set-output name=match::true
          echo ::set-output tag-name=match::$(echo ${{ github.event.ref }} | sed  's/refs\/tags\/v\(.*\)$/\1/g')

        # if [[ ${{ github.event.ref }} =~ ^refs/tags/v[0-9]+\.[0-9]+\.[0-9]+$ ]]; then
        # fi

      - name: Build
        if: steps.check-tag.outputs.match == 'true'
        run: |
          echo "Tag is a match  ${{ steps.check-tag.outputs.tag-name }}"
